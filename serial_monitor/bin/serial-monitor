#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.expand_path('../../lib', __FILE__))
require 'serial_monitor'

unless ARGV[0]
  puts "No serial port provided. Please include the serial port to monitor"
  exit 1
end

unless ARGV[1]
  puts "No baud rate provided. Please include the baud rate."
  exit 1
end

SerialMonitor.open(ARGV[0], ARGV[1], "\n", "\n") do |sm|
  sleep(2)
  loop { puts sm.gets }
end
